/** 
 * jquery.jqflipswitch.js
 * @fileoverview jQuery Plugin for Flip-Switch
 *
 * Copyright 2014@Tomohiro IKEDA
 * Released under the MIT license
 */
(function(a){var k,l,n;/iPhone|iPad|iPod|Android/.test(navigator.userAgent)?(k="touchstart",l="touchmove",n="touchend"):(k="mousedown",l="mousemove",n="mouseup");var p=function(d,c,b){if(a.isPlainObject(d)&&"type"in d&&a.isPlainObject(c)&&a.isFunction(c[d.type])){var e={},h=null;a.isPlainObject(c.values)&&(h=c.values[b]);e.value=h;e.state=b;c[d.type](d,e)}},v=function(d,c){if(!a(d.target).hasClass("jq-flipper")){var b=a(d.currentTarget),e=b.children(".jq-flipper"),h=0,q="";a.isPlainObject(c.animates)&&
(h=c.animates.duration,q=c.animates.easing);var f="left",g="0px";!/slow|fast/i.test(String(h))&&0>parseFloat(h)&&(h=0);b.hasClass("jq-flipper-left")?(f="right",g=parseInt(b.width()/2)+"px"):f="left";var u=function(){if(b instanceof jQuery)switch(f){case "left":b.removeClass("jq-flipper-right").addClass("jq-flipper-left");break;case "right":b.removeClass("jq-flipper-left").addClass("jq-flipper-right");break}if(b instanceof jQuery){var a=b.children('[type="checkbox"]');0!==a.length&&(a[0].checked=!a[0].checked)}b.trigger("change",
[c,f])};/slow|fast/i.test(String(h))||0<h?e.animate({left:g},h,q,u):(e.css("left",g),u())}},w=function(a,c,b){p(a,c,b)},x=function(a,c){p(a,c)},y=function(d,c){a(d).on("click.jq-flipswitch",function(a){v(a,c)})},z=function(d,c){var b=a(d),e=b.children(".jq-flipper"),h=function(a,f){var g=f.parent(),b=a.pageX-g.offset().left,h=parseInt(c.width),d=parseInt(h/2);g.hasClass("jq-flipper-left")?b>d&&(b=d):(b>h&&(b=h),b-=d);0>b&&(b=0);return b};b.on("flip.jq-flipswitch",x);e.on(k+".jq-flipswitch",function(c){e.data("isDown",
!0);a(window).data("target",e)}).on(l+".jq-flipswitch",function(q){if(e.data("isDown")){var f="ew-resize";a.isPlainObject(c.cursors)&&(f=c.cursors.flip||"ew-resize");e.css("cursor",f).css("left",h(q,e)+"px");b.trigger("flip",[c])}});a(window).on(n+".jq-flipswitch",function(b){var f,g=a(window).data("target")||null;if(null!==g&&g.data("isDown")){var d=g.parent(),e="";f=!1;var e=c.threshold,m=parseInt(c.width)/2;b=h(b,g);g.parent().hasClass("jq-flipper-left")?b>=e?(e="right",f=!0):e="left":b<=m-e?(e=
"left",f=!0):e="right";b=e;e=parseInt(parseInt(c.width)/2)+"px";switch(b){case "left":d.removeClass("jq-flipper-right").addClass("jq-flipper-left");g.css("left","0px");break;case "right":d.removeClass("jq-flipper-left").addClass("jq-flipper-right"),g.css("left",e)}f&&d.trigger("change",[c,b]);g.removeData("isDown");a(window).removeData("target")}})};a.fn.flipswitch=function(d){var c=this,b={create:function(e){b.destroy();c.flipswitch.settings=a.extend(!0,{},c.flipswitch.defaults,e);return c.each(function(b,
c){var f=a(c).flipswitch.settings,g;a:if(a.isPlainObject(f)){g=null;if(c instanceof HTMLInputElement&&"checkbox"===c.getAttribute("type"))g=a("<div />"),a(c).hide().before(g).appendTo(g);else if(!(c instanceof HTMLInputElement)&&c instanceof HTMLElement)g=a(c);else{g=null;break a}var e="",d="";a.isPlainObject(f.texts)&&(e=f.texts.left||"ON",d=f.texts.right||"OFF");var m="pointer";if(a.isPlainObject(f.cursors))switch(f.type){case "click":m=f.cursors.normal||"pointer";break;case "flip":m=f.cursors.flip||
"pointer"}var k=a('<div class="jq-flipper"></div>'),l=a("<div />"),e=a('<div class="jq-flipswitch-text-left"></div>').text(e),d=a('<div class="jq-flipswitch-text-right"></div>').text(d),r=parseInt(parseInt(f.width)/2)+"px",t=parseInt(f.height)+"px",n="left"===f.init?"jq-flipper-left":"jq-flipper-right",p="left"===f.init?"0px":r;g.css({cursor:m,position:"relative",top:"0px",left:"0px","z-index":1,width:parseInt(f.width)+"px",height:t});k.css({cursor:m,position:"absolute",top:"0px",left:p,"z-index":3,
width:r,height:t});e.css({position:"absolute",top:"0px",left:"0px","z-index":2,width:r,"line-height":t,"text-align":"center"});d.css({position:"absolute",top:"0px",right:"0px","z-index":2,width:r,"line-height":t,"text-align":"center"});l.append(e).append(d);g.addClass("jq-flipswitch "+n).append(k).append(l);g=g[0]}else g=void 0;a(g).off(".jq-flipswitch");a(g).on("change.jq-flipswitch",w);switch(f.type){case "click":y(g,f);break;case "flip":z(g,f)}})},option:function(a,d){if(void 0===d)return c.flipswitch.settings[a];
c.flipswitch.settings[a]=d;return b.create(c.flipswitch.settings)},destroy:function(){c.flipswitch.settings={};return c.each(function(c,b){var d=null;b instanceof HTMLInputElement&&"checkbox"===b.getAttribute("type")?(d=a(b).parent(),a(b).show().insertBefore(d),d.remove()):(d=a(b),d.removeClass("jq-flipswitch jq-flipper-left jq-flipper-right").empty())})}};if(b[String(d)])return b[String(d)].apply(this,Array.prototype.slice.call(arguments,1));if(a.isPlainObject(d)||void 0===d)return b.create(d);a.error('jquery.jqflipswitch.js : The designated method ("'+
d+'") is not defined.')};a.fn.flipswitch.defaults={type:"click",width:200,height:50,init:"left",threshold:50,cursors:{normal:"pointer",flip:"ew-resize"},values:{left:!1,right:!0},texts:{left:"ON",right:"OFF"},animates:{duration:"fast",easing:"swing"},change:function(a,c){},flip:function(a,c){}};a.fn.flipswitch.settings={}})(jQuery);